<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CP | Hepatopancreas Lipid Droplet – Analysis</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-shell">
    <header class="app-header">
      <div class="brand">
        <div class="brand-logo">CP</div>
        <div class="brand-text">
          <div class="brand-company">Central Proteina Prima</div>
          <div class="brand-app-name">Lipid Droplet AI – Hepatopancreas Wet Mount</div>
        </div>
      </div>

      <nav class="app-nav">
        <a href="training.html" class="nav-link">Training</a>
        <a href="analysis.html" class="nav-link nav-link-active">Analysis</a>
      </nav>
    </header>

    <main class="app-main">
      <section class="page-header">
        <h1>Analysis Interface</h1>
        <p class="page-subtitle">
          Upload one or more wet mount hepatopancreas images. 
          The trained AI model will estimate the lipid droplet percentage for each image.
        </p>
      </section>

      <section class="card">
        <div class="card-header">
          <h2>1. Upload Images for Analysis</h2>
          <p class="card-description">
            Select multiple images at once. For each image, the model will output the predicted lipid droplet percentage.
          </p>
        </div>

        <div class="card-body">
          <div class="form-group">
            <label class="form-label" for="analysis-images-input">Select images</label>
            <div class="input-row">
              <input
                type="file"
                id="analysis-images-input"
                accept="image/*"
                multiple
                class="input-file"
              />
            </div>
          </div>

          <div class="card-actions">
            <button id="run-analysis-button" class="btn btn-primary">
              Run analysis
            </button>
          </div>

          <div class="status-bar" id="analysis-status">
            <!-- analysis status messages -->
          </div>
        </div>
      </section>

      <section class="card">
        <div class="card-header">
          <h2>2. Results</h2>
          <p class="card-description">
            For each analyzed image, the filename and predicted lipid droplet percentage will be listed below.
          </p>
        </div>

        <div class="card-body">
          <!-- results table / gallery populated by JS -->
          <div id="analysis-results" class="results-table">
            <!-- Example structure that JS can fill:
            <div class="result-row">
              <div class="result-image-thumb">
                <img src="..." alt="preview" />
              </div>
              <div class="result-info">
                <div class="result-filename">image_001.png</div>
                <div class="result-prediction">Lipid droplets: 37.4%</div>
              </div>
            </div>
            -->
          </div>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      © 2025 CP Prima – Experimental Tool for Shrimp Hepatopancreas Lipid Assessment
    </footer>
  </div>

  <script src="model.js"></script>
  <script src="storage.js"></script>
  <script src="app.js"></script>
</body>
</html>
