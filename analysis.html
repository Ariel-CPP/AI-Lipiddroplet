<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CP Lipid Droplet AI – Analysis</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body data-page="analysis">
  <header class="cp-header">
    <div class="cp-header-inner">
      <div class="cp-logo">
        <span class="cp-logo-mark">CP</span>
        <span class="cp-logo-text">Lipid Droplet AI</span>
      </div>
      <nav class="cp-nav">
        <a href="index.html" class="cp-nav-link">Training</a>
        <a href="analysis.html" class="cp-nav-link cp-nav-link-active">Analysis</a>
      </nav>
    </div>
  </header>

  <main class="cp-main">
    <section class="cp-hero">
      <h1>Lipid Droplet Analysis Interface</h1>
      <p>
        Load the trained model (from your browser or an imported database) and
        analyse multiple hepatopancreas wet mount images at once. The model will
        estimate the lipid droplet percentage for each image.
      </p>
    </section>

    <section class="cp-grid-single">
      <article class="cp-card">
        <h2>Batch Image Analysis</h2>
        <p class="cp-muted">
          Select one or more images, then run the analysis. Results will display the
          filename and the predicted lipid droplet percentage. Make sure you have
          already trained the model on the <strong>Training</strong> page or imported
          a database there before using this tool.
        </p>

        <div class="cp-form-group">
          <label for="analysis-files" class="cp-label">Select images to analyse</label>
          <input
            id="analysis-files"
            type="file"
            accept="image/*"
            multiple
            class="cp-input-file"
          />
        </div>

        <button id="analyze-button" class="cp-button primary" disabled>
          Run analysis
        </button>

        <p id="analysis-model-status" class="cp-small-status"></p>

        <div id="analysis-results" class="results-table">
          <!-- Table of results will be injected here -->
        </div>
      </article>
    </section>
  </main>

  <footer class="cp-footer">
    © 2025 CP Prima – Experimental Tool for Shrimp Hepatopancreas Lipid Assessment
  </footer>

  <script src="model.js"></script>
  <script src="storage.js"></script>
  <script src="app.js"></script>
</body>
</html>
